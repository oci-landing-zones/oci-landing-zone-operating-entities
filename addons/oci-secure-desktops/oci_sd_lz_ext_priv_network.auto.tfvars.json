{
    "network_configuration": {
        "default_enable_cis_checks"                              : false,

        "network_configuration_categories": {
            "sd_drgattach": {
                "category_compartment_id"                        : "CMP-LZP-NETWORK-KEY",

                "non_vcn_specific_gateways": {
                    "inject_into_existing_drgs": {
                        "DRG-KEY": {
                            "drg_id"                             : "DRG-FRA-LZP-HUB-KEY",

                            "drg_attachments": {
                                "DRGATT-FRA-LZP-SD-VCN-KEY": {
                                    "display_name"               : "drgatt-fra-lzp-sd-vcn",
                                    "defined_tags"               : null,
                                    "drg_route_table_id"         : null,
                                    "drg_route_table_name"       : "DRGRT-FRA-LZP-SPOKES-KEY",
                                    "freeform_tags"              : null,

                                    "network_details": {
                                        "type"                   : "VCN",
                                        "attached_resource_key"  : "VCN-FRA-LZP-SD-KEY"
                                    }
                                }
                            }
                        }
                    }
                }
            },

            "sd_vcn": {
                "category_compartment_id"                        : "CMP-LZP-NETWORK-KEY",

                "vcns": {
                    "VCN-FRA-LZP-SD-KEY": {
                        "display_name"                           : "vcn-fra-lzp-sd",
                        "cidr_blocks"                            : ["10.0.24.0/21"],
                        "dns_label"                              : "vcnfralzpsd",
                        "block_nat_traffic"                      : false,
                        "is_attach_drg"                          : false,
                        "is_create_igw"                          : false,
                        "is_ipv6enabled"                         : false,
                        "is_oracle_gua_allocation_enabled"       : false,

                        "subnets": {
                            "SN-FRA-SD-DESKTOPS-KEY": {
                                "display_name"                   : "sn-fra-sd-desktops",
                                "dns_label"                      : "snfrasddesktops",
                                "cidr_block"                     : "10.0.24.0/24",
                                "dhcp_options_key"               : "default_dhcp_options",
                                "prohibit_internet_ingress"      : false,
                                "prohibit_public_ip_on_vnic"     : false,
                                "route_table_key"                : "RT-01-LZP-SD-VCN-GEN-KEY",
                                "security_list_keys"             : ["default_security_list"]
                            },

                            "SN-FRA-SD-INFRA-KEY": {
                                "display_name"                   : "sn-fra-sd-infra",
                                "dns_label"                      : "snfrasdinfra",
                                "cidr_block"                     : "10.0.25.0/24",
                                "dhcp_options_key"               : "default_dhcp_options",
                                "prohibit_internet_ingress"      : true,
                                "prohibit_public_ip_on_vnic"     : true,
                                "route_table_key"                : "RT-01-LZP-SD-VCN-GEN-KEY",
                                "security_list_keys"             : ["SL-LZP-SD-GENERIC-KEY"]
                            }
                        },

                        "route_tables": {
                            "RT-01-LZP-SD-VCN-GEN-KEY": {
                                "display_name"                   : "rt-01-lzp-sd-vcn-gen",

                                "route_rules": {
                                    "drg_route": {
                                        "description"            : "Route to DRG",
                                        "destination"            : "0.0.0.0/0",
                                        "destination_type"       : "CIDR_BLOCK",
                                        "network_entity_id"      : "ocid1.drg.oc1.eu-frankfurt-1.aaaaaaaajufrhftagaexwy6fudxembjdfuihcc57f3h5fl3wanhr5h37ftfa"
                                    },

                                    "sgw_route": {
                                        "description"            : "Route for sgw",
                                        "destination"            : "all-services",
                                        "destination_type"       : "SERVICE_CIDR_BLOCK",
                                        "network_entity_key"     : "SGW-FRA-LZP-SD-KEY"
                                    }
                                }
                            }
                        },

                        "default_security_list": {
                            "egress_rules"                       : [],

                            "ingress_rules": [
                                {
                                    "description"                : "ICMP type 3 code 4",
                                    "protocol"                   : "ICMP",
                                    "icmp_code"                  : 4,
                                    "icmp_type"                  : 3,
                                    "src"                        : "0.0.0.0/0",
                                    "src_type"                   : "CIDR_BLOCK",
                                    "stateless"                  : false
                                },
                                {
                                    "description"                : "ICMP type 8 (Echo)",
                                    "protocol"                   : "ICMP",
                                    "icmp_code"                  : 0,
                                    "icmp_type"                  : 8,
                                    "src"                        : "10.0.24.0/21",
                                    "src_type"                   : "CIDR_BLOCK",
                                    "stateless"                  : false
                                }
                            ]
                        },

                        "security_lists": {
                            "SL-LZP-SD-GENERIC-KEY": {
                                "display_name"                   : "sl-lzp-sd-generic",

                                "egress_rules": [
                                    {
                                        "description"            : "egress to 0.0.0.0/0 over ALL protocols",
                                        "protocol"               : "ALL",
                                        "dst"                    : "0.0.0.0/0",
                                        "dst_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    },
                                    {
                                        "description"            : "egress rule for OSN",
                                        "protocol"               : "ALL",
                                        "dst"                    : "all-services",
                                        "dst_type"               : "SERVICE_CIDR_BLOCK",
                                        "stateless"              : false
                                    }
                                ],

                                "ingress_rules": [
                                    {
                                        "description"            : "ingress from 10.0.3.0/24 over TCP22",
                                        "protocol"               : "TCP",
                                        "dst_port_max"           : 22,
                                        "dst_port_min"           : 22,
                                        "src"                    : "10.0.3.0/24",
                                        "src_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    },
                                    {
                                        "description"            : "ICMP type 3 code 4",
                                        "protocol"               : "ICMP",
                                        "icmp_code"              : 4,
                                        "icmp_type"              : 3,
                                        "src"                    : "0.0.0.0/0",
                                        "src_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    },
                                    {
                                        "description"            : "ICMP type 8 (Echo)",
                                        "protocol"               : "ICMP",
                                        "icmp_code"              : 0,
                                        "icmp_type"              : 8,
                                        "src"                    : "10.0.0.0/21",
                                        "src_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    }
                                ]
                            }
                        },

                        "network_security_groups": {
                            "NSG-FRA-LZP-HUB-PE-SD-KEY": {
                                "display_name"                   : "nsg-fra-lzp-hub-pe-sd",

                                "egress_rules": {
                                    "anywhere": {
                                        "description"            : "egress to 0.0.0.0/0 over TCP",
                                        "protocol"               : "ALL",
                                        "dst"                    : "0.0.0.0/0",
                                        "dst_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    }
                                },

                                "ingress_rules": {
                                    "ssh_22": {
                                        "description"            : "ingress from 0.0.0.0/0 over SSH",
                                        "protocol"               : "ALL",
                                        "src"                    : "0.0.0.0/0",
                                        "src_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    }
                                }
                            },

                            "NSG-LZP-SD-DNS-KEY": {
                                "display_name"                   : "nsg-lzp-sd-dns",

                                "egress_rules": {
                                    "egress_dns_tcp": {
                                        "description"            : "Egress to Hub DNS endpoint: TCP, Stateful",
                                        "protocol"               : "TCP",
                                        "dst"                    : "10.0.5.11/32",
                                        "dst_port_max"           : 53,
                                        "dst_port_min"           : 53,
                                        "dst_type"               : "CIDR_BLOCK",
                                        "stateless"              : false
                                    },

                                    "egress_dns_udp": {
                                        "description"            : "Egress to Hub DNS endpoint: UDP, Stateless",
                                        "protocol"               : "UDP",
                                        "dst"                    : "10.0.5.11/32",
                                        "dst_port_max"           : 53,
                                        "dst_port_min"           : 53,
                                        "dst_type"               : "CIDR_BLOCK",
                                        "stateless"              : true
                                    }
                                },

                                "ingress_rules": {
                                    "ingress_dns_udp": {
                                        "description"            : "Ingress from Hub DNS endpoint: UDP, Stateless",
                                        "protocol"               : "UDP",
                                        "src"                    : "10.0.5.11/32",
                                        "src_port_max"           : 53,
                                        "src_port_min"           : 53,
                                        "src_type"               : "CIDR_BLOCK",
                                        "stateless"              : true
                                    }
                                }
                            }
                        },

                        "dns_resolver": {
                            "display_name"                       : "vcn-fra-lzp-p-projects",
                            "attached_views"                     : {},

                            "resolver_endpoints": {
                                "RESOLVER_P_ENDPOINT_FORWARDER_1": {
                                    "name"                       : "dns_forwarder_fra_p",
                                    "enpoint_type"               : "VNIC",
                                    "forwarding_address"         : "10.0.25.10",
                                    "is_forwarding"              : "true",
                                    "is_listening"               : "false",
                                    "nsg"                        : ["NSG-LZP-P-PROJECTS-DNS-KEY"],
                                    "subnet"                     : "SSN-FRA-LZP-P-INFRA"
                                }
                            },

                            "rules": [
                                {
                                    "action"                     : "FORWARD",
                                    "destination_address"        : ["10.0.5.11"],
                                    "qname_cover_conditions"     : ["oraclevcn.com"],
                                    "source_endpoint_name"       : "RESOLVER_P_ENDPOINT_FORWARDER_1"
                                },
                                {
                                    "action"                     : "FORWARD",
                                    "destination_address"        : ["10.0.5.11"],
                                    "qname_cover_conditions"     : ["oraclecloud.com"],
                                    "source_endpoint_name"       : "RESOLVER_P_ENDPOINT_FORWARDER_1"
                                },
                                {
                                    "action"                     : "FORWARD",
                                    "destination_address"        : ["10.0.5.11"],
                                    "qname_cover_conditions"     : ["oci.customer-oci.com"],
                                    "source_endpoint_name"       : "RESOLVER_P_ENDPOINT_FORWARDER_1"
                                }
                            ]
                        },

                        "vcn_specific_gateways": {
                            "service_gateways": {
                                "SGW-FRA-LZP-SD-KEY": {
                                    "display_name"               : "sgw-fra-sd",
                                    "services"                   : "all-services"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
